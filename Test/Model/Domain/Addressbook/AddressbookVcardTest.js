/**
 * Created by tobias on 10/28/13.
 */

var entry1 = "BEGIN:VCARD\n\
N:Swank;Hilary;;;\n\
IMPP;SIP:564895214@corephone.com\n\
PHOTO;BASE64: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\
END:VCARD";

var entry2 = "BEGIN:VCARD\n\
VERSION:3.0\n\
N:Mustermann;Max\n\
FN:Max Mustermann\n\
ORG:Wikipedia\n\
URL:http://de.wikipedia.org/\n\
	EMAIL;TYPE=INTERNET:max.mustermann@example.org\n\
TEL;TYPE=voice,work,pref:+49 1234 56788\n\
ADR;TYPE=intl,work,postal,parcel:;;Musterstra√üe 1;Musterstadt;;12345;Germany\n\
END:VCARD"

var Addressbook = App.Model.Domain.Addressbook;

test("AddressbookVcard test", function() {
	var addressbook = new Addressbook.AddressbookVcard();
	addressbook.addEntry(entry1);
	addressbook.addEntry(entry2);

	var entries = addressbook.getEntries();
	strictEqual(entries[0]['IMPP']['value'][0], '564895214@corephone.com', "sip");
	strictEqual(entries[0]['N']['value'][1]+' '+entries[0]['N']['value'][0], 'Hilary Swank', "name");
	console.log(entries[1]);
	strictEqual(entries[1]['FN']['value'][0], "Max Mustermann", "full name");
});